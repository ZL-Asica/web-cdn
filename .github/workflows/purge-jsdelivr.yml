name: ğŸ§¹ Purge jsDelivr Cache

on:
  push:
    branches:
      - main # Trigger on pushes to the main branch

jobs:
  purge-cache:
    runs-on: ubuntu-latest

    steps:
      # ğŸ› ï¸ Checkout the repository
      - name: ğŸ“‚ Checkout Repository
        uses: actions/checkout@v4

        # ğŸ§¹ Purge jsDelivr cache for the entire repository
      - name: ğŸš€ Purge jsDelivr Cache
        run: |
          # ğŸŒ Send a request to purge jsDelivr's cache for the entire repository
          curl -X GET "https://purge.jsdelivr.net/gh/zl-asica/web-cdn/" || echo "Purge request failed ğŸ˜¢"
          echo "jsDelivr cache purge request sent successfully! ğŸš€"
